function createHTMLstr(e){var t=document.createDocumentFragment(),n=document.createElement("div");n.innerHTML=e;while(n.firstChild){t.appendChild(n.firstChild)}return t}function executeClick(e){if(e.click){e.click()}else if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",true,true);e.dispatchEvent(t)}}function cleanString(e){var e=e.replace(/ +(?= )/g,""),e=e.replace(/- +/,"-");return e.trim()}function grabNthParent(e,t){var n=e;for(var r=0;r<t;r++)n=n.parentNode;return n}function showAcademicDetail(){executeClick(document.getElementById("academicDetailTab"))}function goToAcademicInformation(){var e=window.location.origin,t="/sam/AcademicInformation.action",n=window.location.search;academicInfoLink=document.getElementsByClassName("linksArea")[0].children[0].children[1];n=n.replace("commodoreId","cid");executeClick(academicInfoLink)}function emailScheduleOnConfirm(){var e="Please click OK to send your current schedule to ";e+=akpsiEmail;e+=" and your Vanderbilt email.";if(confirm(e)){emailSchedule()}else{alert("Your schedule will not be sent.")}}function emailSchedule(){executeClick(document.getElementById("emailCalendarLink"));var e=document.getElementsByClassName("emailAddressInput"),t=e[0].value;e[1].value=akpsiEmail;executeClick(document.getElementById("sendScheduleButton-button"));alert("Your schedule has successfully been emailed.")}function grabNameString(){var e=document.getElementsByClassName("studentName"),t=e[0].innerHTML;t=t.replace(/\(.*\)/,"");t=t.replace(",",", ");t=cleanString(t);return"All classes taken by: "+t}function getSemesterTitle(e){var t=grabNthParent(e,5),t=t.children[0].children[0];return t.children[1].innerHTML.trim()}function getClasses(e){return e.children[2].children}function getClassInfo(e){var t=e.children[0].innerHTML,n=e.children[1].innerHTML,r=e.children[2].children[0].innerHTML;return[cleanString(t),cleanString(n),cleanString(r)]}function dumpClassInfoToDivRow(e){var t=['<div class="',' classInfoElem">',"</div>"],n=t[0]+"classCode"+t[1]+e[0]+t[2],r=t[0]+"className"+t[1]+e[1]+t[2],i=t[0]+"classProf"+t[1]+e[2]+t[2],s='<div class="classInfoRow">';s+=n+r+i;s+=t[2];return s}function dumpSemesterToDivBlock(e){var t=getSemesterTitle(e),n='<div class="semesterTitle">'+t+"</div>",r="",i=getClasses(e);for(var s=0;s<i.length;s++){var o=getClassInfo(i[s]);r+=dumpClassInfoToDivRow(o)}var u='<div class="semesterBlock">';u+=n;u+=r;u+="</div>";return u}function dumpSemestersToHTML(){function i(){var t="A list of all classes you have taken here at 			     Vanderbilt has been generated below. Please 			     email this list to "+akpsiEmail+".",n='<div class="bd"><div>'+t+"</div>",r='<div class="semesterDumpWrap">',i="</div></div>";r+='<hr class="semesterSeparator" /><div>'+grabNameString()+"</div>";for(var s=0;s<e.length;s++){var o=e[s];r+=dumpSemesterToDivBlock(o)}r+='<hr class="semesterSeparator"/>';return n+r+i}var e=document.getElementsByClassName("careerTermTable"),t='<div class="roundedDialog"><div class="hd"></div>',n=i(),r='<div class="ft"></div></div>';return t+n+r}function styleClassDump(){var e=window.document.styleSheets[0],t=[".semesterBlock {margin:10px 0;}",".semesterDumpWrap {margin:15px 30px;				   font-family: Consolas, Monaco, Liberation Mono,			           monospace, sans serif;}",".classInfoRow{margin:2px 30px;width:100%;}",".classInfoElem {display:inline-block;}",".classCode {width:15%;}",".className {width:45%;}",".classProf {width:40%;}",".semesterSeparator {margin:20px 0;}"];for(var n=0;n<t.length;n++){e.insertRule(t[n],e.cssRules.length)}}function doStuff(){var e="/student-search/StudentLanding.action",t="/sam/AcademicInformation.action";if(window.location.pathname===e){emailScheduleOnConfirm();if(confirm("Click OK to proceed to your Academic Record.")){goToAcademicInformation()}}if(window.location.pathname===t){activeTabName=document.getElementsByClassName("active")[0].id;if(activeTabName==="academicDetailTab"){htmlDump=createHTMLstr(dumpSemestersToHTML());pageContent=document.getElementById("academicDetailTabContent_content");pageContent.insertBefore(htmlDump,pageContent.children[0]);styleClassDump()}else{showAcademicDetail()}}}var akpsiEmail="academics.vuakpsi@gmail.com";doStuff()
